# sip




<div class="figure">
  <img src="https://s8.uupload.ir/files/ic_tqja.png"
       alt="The head and torso of a dinosaur skeleton;
            it has a large head with long sharp teeth"
       width="96"
       title = " SIP icon " 
       height="96">

  <p>SIP spyware version 4 icon</p>
</div>

<h2>●آشنایی</h2>
<p> برنامه SIP (SIP از سرواژه Send image without permission گرفته شده ) یک بدافزار اطلاعاتی‌ست . که در ۲۹ آوریل  2023 نوشته شده است . این جاسوس افزار یا Spyware کامپیوترهایی با سیستم عامل ویندوز یا mac os را مورد حمله قرار میدهد . 
تا کنون هیچ آنتی‌ویروسی نتوانسته است این جاسوس افزار را شناسایی کند ‌. 😈</p>
<h2>●نام</h2>
<p> اسم برنامه  در تاریخ ۱۴۰۲/۲/۱۲ به SIP_system تغییر کرد sip  مخففِ
 Send image without permission
هست . 
اسم قبلی برنامه Syscoomi  بوده 
نام قبلی از نام فایل cocomi (که یک فایل برای پردازش تصویر بود ) الهام گرفته شده بود sys اول به معنای نرم‌افزار سیستمی است.  </p>

<h2>●نحوه جاسوسی</h2>
<p> تمام تصاویر  با پسوند jpg در درایو :C و در دایرکتور های Desktop , Download  و Pictures رو جمع آوری میکند و با پروتکل SMTP به ایمیل سازنده (magidbarmaky@gmail.com) ارسال  میکند :smiling_imp:
تا کنون هیچ آنتی‌ویروسی نتوانسته است این جاسوس افزار را شناسایی کند ‌. :warning:</p>
<p>این جاسوس‌افزار در قالب فیلترشکن در آمده است. به این گونه که بعد از دانلود از وبلاگ ها یا از کانال های تلگرامی و کلیک روی آن به بهانه‌ای از کاربر وقت میخرد  تا بتواند به تصاویر خصوصی دسترسی داشته باشد. این وقت خریدن میتواند با نمایش پیغامِ "در حال اتصال " یا امثال این کاربر را برای چند دقیقه معطل کند تا بتواند تصاویر خصوصی را استخراج کند. بعد از اینکه با کمک الگوریتم پیچیده به تمام تصاویر با پسوند jpg. دسترسی داشت . 
 مسیر تصاویری که در دایرکتوری  desktop , pictures  و downloads است را در فایل متنی به نام‌ SettingSIPv4.txt در مسیری دور از دسترس کاربر ذخیره میکند .
سپس برای اینکه کاربر برنامه را نبندد پیغام "متصل شد" یا پیغام "در حال نصب پروکسی‌ها" را نشان میدهد . در این حالت ، کاربر برنامه را نبسته و فقط minimal میکند .
در این قسمت .
فایل SettingSIPv4.txt  را بازکرده وتک تک مسیر های تصاویر را برمیدارد و با پروتکل SMTP  و پورت 465 به ایمیل موردنظر ارسال میکند . 
درآخر فایل SettingSIPv4.txt را حذف کرده .</p>

<div class="figure">
  <img src="https://s8.uupload.ir/files/screenshot_(42)_ytlr.png"
       alt="The head and torso of a dinosaur skeleton;
            it has a large head with long sharp teeth"
       width="800"
       title = " sipنمونه ای از سورس کد بد افزار  " 
       height="500">
  <p>.نمایی از سورس کد جاسوس افزار که با زبان پایتون نوشته شده است</p>
</div>

<h2>●نسخه ها </h2>
<p>تا ۱۴۰۲/۵/۲۰ سه نسخه ساخته شد: </p>
<p>نسخه اول(sip1) : باگ های زیادی داشت یکی از این باگ ها این بود که اگر برنامه در درایوی به غیر از :C باشد برنامه کار نمیکند . این نسخه در ۱۴۰۲/۲/۹ ساخته شد</p>
<p>نسخه دوم(sip2) : با وجود داشتن باگ کم اما بهتراز نسخه قبلی خود بود. یکی از باگ های این نسخه اجرای ناقص و مشکوک بود در زمانی که اتصال اینترنت نبود 
این نسخه در ۱۴۰۲/۲/۲۵ ایجاد شد . </p>
<p>نسخه سوم (sip3): که در 1402/5/19 طراحی شده . هیچ باگ از باگ های  قبلی رو نداشت . علاوه بر این سرعت بیشتری نسبت به دونسخه قبلی خود داره . (حدود ۲ ثانیه سریع تر اجرا می شد) </p>
<p>نسخه PROXY : این نسخه زمانی که برای چند نفر می‌خواستم VPN بفرستم ایجاد شد . این نسخه با اینکه جواب نداد اما تنها نسخه ای بود که روی سیستم به غیر از سیستم خودم اجرا شده بود . تنها تفاوت در دریافت لایسنس و نام کاربری بود تا کاربران شک نکنند علاوه بر این ایکون و اسم مناسب داشت ، به محض جواب ندادن کد ویرایش شد و نسخه سه به وجود اومد .  </p>
<p>* دو نسخه 1‌و 2 و PROXY منسوخ شدند . </p>


<h2>Libraries and modules:</h2>

```python
from subprocess import check_output
import smtplib
from email.message import EmailMessage
import os
import sys
import time
```
<div class="figure">
  <img src="https://s8.uupload.ir/files/sip-v1_jk5h.jpg"
       alt="The head and torso of a dinosaur skeleton;
            it has a large head with long sharp teeth"
       width="400"
       title = " sipنمونه ای از سورس کد بد افزار  " 
       height="600">
  <p>.نمایی از سورس کد جاسوس افزار که با زبان پایتون نوشته شده است</p>
</div>
